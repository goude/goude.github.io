set shell := ["bash", "-eu", "-o", "pipefail", "-c"]
set dotenv-load := true

_default:
    @just --list

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# Core workflow
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ๐ฆ Install dependencies
install:
    npm install

# โ Full check: format โ lint โ build
check: format lint build test

# โถ๏ธ Start dev server
dev-serve:
    npm run dev

# ๐งน Clean build artifacts and caches
clean:
    rm -rf dist node_modules/.cache .astro

# ๐งน Clean everything
reset: clean
    rm -rf node_modules/

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# Individual steps
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# โจ Format code
format:
    npm run format

# ๐ Lint code
lint:
    npm run lint

# ๐จ Build for production
build:
    npm run build
